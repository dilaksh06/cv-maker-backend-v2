<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title><%= personalInfo.name %> - Resume</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Roboto", sans-serif;
        font-size: 12pt;
        color: #222;
        line-height: 1.5;
        padding: 2cm;
        max-width: 21cm;
        background: white;
      }

      h1 {
        font-size: 24pt;
        font-weight: 700;
        margin-bottom: 0.3cm;
      }

      h2 {
        font-size: 14pt;
        font-weight: 500;
        margin-top: 1.2cm;
        margin-bottom: 0.5cm;
        border-bottom: 1px solid #ccc;
        padding-bottom: 0.2cm;
      }

      .contact-info {
        margin-bottom: 1cm;
        font-size: 10pt;
        color: #444;
      }

      .contact-info span {
        margin-right: 1.5cm;
      }

      .section {
        margin-bottom: 0.8cm;
      }

      .item {
        margin-bottom: 0.5cm;
      }

      .item-title {
        font-weight: 500;
        font-size: 12pt;
      }

      .item-subtitle {
        font-size: 10pt;
        color: #666;
      }

      .item-description {
        margin-top: 0.3cm;
        font-size: 10.5pt;
      }

      ul {
        padding-left: 1.2cm;
        margin-top: 0.3cm;
      }

      ul li {
        margin-bottom: 0.2cm;
      }

      .skills,
      .languages {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5cm;
        margin-top: 0.5cm;
      }

      .tag {
        background: #f0f0f0;
        padding: 0.2cm 0.6cm;
        border-radius: 3px;
        font-size: 10pt;
      }

      @media print {
        body {
          padding: 1cm;
        }
      }
    </style>
  </head>
  <body>
    <h1><%= personalInfo.name %></h1>

    <div class="contact-info">
      <% if (personalInfo.email) { %><span><%= personalInfo.email %></span><% }
      %> <% if (personalInfo.phoneNumbers && personalInfo.phoneNumbers.length) {
      %><span><%= personalInfo.phoneNumbers.join(', ') %></span><% } %> <% if
      (personalInfo.linkedin) { %><span><%= personalInfo.linkedin %></span><% }
      %> <% if (personalInfo.portfolio) { %><span
        ><%= personalInfo.portfolio %></span
      ><% } %>
    </div>

    <% if (aboutMe) { %>
    <div class="section">
      <h2>Summary</h2>
      <p class="item-description"><%= aboutMe %></p>
    </div>
    <% } %> <% if (workExperience && workExperience.length) { %>
    <div class="section">
      <h2>Experience</h2>
      <% workExperience.forEach(function(exp) { %>
      <div class="item">
        <div class="item-title"><%= exp.jobTitle %></div>
        <div class="item-subtitle">
          <%= exp.supervisor %> <% if (exp.city || exp.country) { %> — <%=
          [exp.city, exp.country].filter(Boolean).join(', ') %><% } %> <% if
          (exp.dateRange) { %> | <%= exp.dateRange %><% } %>
        </div>
        <% if (exp.responsibilities && exp.responsibilities.length) { %>
        <ul>
          <% exp.responsibilities.forEach(function(resp) { %>
          <li><%= resp %></li>
          <% }); %>
        </ul>
        <% } %>
      </div>
      <% }); %>
    </div>
    <% } %> <% if (academicQualifications && academicQualifications.length) { %>
    <div class="section">
      <h2>Education</h2>
      <% academicQualifications.forEach(function(edu) { %>
      <div class="item">
        <div class="item-title"><%= edu.degree %></div>
        <div class="item-subtitle">
          <%= edu.institution %> <% if (edu.website) { %> —
          <a href="<%= edu.website %>"><%= edu.website %></a><% } %> <% if
          (edu.dateRange) { %> | <%= edu.dateRange %><% } %>
        </div>
      </div>
      <% }); %>
    </div>
    <% } %> <% if (projects && projects.length) { %>
    <div class="section">
      <h2>Projects</h2>
      <% projects.forEach(function(project) { %>
      <div class="item">
        <div class="item-title"><%= project.title %></div>
        <% if (project.description) { %>
        <p class="item-description"><%= project.description %></p>
        <% } %> <% if (project.languages && project.languages.length) { %>
        <div class="item-subtitle">
          <strong>Technologies:</strong> <%= project.languages.join(', ') %>
        </div>
        <% } %> <% if (project.links && project.links.length) { %>
        <div class="item-subtitle">
          <strong>Links:</strong> <%= project.links.join(', ') %>
        </div>
        <% } %>
      </div>
      <% }); %>
    </div>
    <% } %> <% if (hardSkills && hardSkills.length) { %>
    <div class="section">
      <h2>Skills</h2>
      <div class="skills">
        <% hardSkills.forEach(function(skill) { %>
        <div class="tag"><%= skill %></div>
        <% }); %>
      </div>
    </div>
    <% } %> <% if (languages && languages.length) { %>
    <div class="section">
      <h2>Languages</h2>
      <div class="languages">
        <% languages.forEach(function(lang) { %>
        <div class="tag"><%= lang %></div>
        <% }); %>
      </div>
    </div>
    <% } %> <% if (recommendations && recommendations.length) { %>
    <div class="section">
      <h2>References</h2>
      <% recommendations.forEach(function(ref) { %>
      <div class="item">
        <div class="item-title"><%= ref.name %></div>
        <div class="item-subtitle">
          <%= ref.profession %><% if (ref.institute) { %>, <%= ref.institute
          %><% } %>
        </div>
        <div class="item-subtitle">
          <% if (ref.email) { %><a href="mailto:<%= ref.email %>"
            ><%= ref.email %></a
          ><% } %> <% if (ref.phone) { %> | <%= ref.phone %><% } %>
        </div>
      </div>
      <% }); %>
    </div>
    <% } %>
  </body>
</html>
